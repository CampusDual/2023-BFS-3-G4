<?xml version="1.0" encoding="UTF-8"?>
<JdbcEntitySetup xmlns="http://www.ontimize.com/schema/jdbc"
                 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                 xsi:schemaLocation="http://www.ontimize.com/schema/jdbc http://www.ontimize.com/schema/jdbc/ontimize-jdbc-dao.xsd"
                 catalog=""  table="towns" datasource="mainDataSource" sqlhandler="dbSQLStatementHandler">
<DeleteKeys>
<Column>id_town</Column>
</DeleteKeys>
<UpdateKeys>
<Column>id_town</Column>
</UpdateKeys>
<GeneratedKey>id_town</GeneratedKey>
<Queries>
        <Query id="default">
                <AmbiguousColumns>
                        <AmbiguousColumn name="id_province"
                                         prefix="p" />
                        <AmbiguousColumn name="id_province" prefix="t" />
                        <AmbiguousColumn name="id_community"
                                         prefix="c" />
                        <AmbiguousColumn name="id_community"
                                         prefix="p" />
                </AmbiguousColumns>
                <ValidColumns>
                        <Column>town_name</Column>
                        <Column>province_name</Column>
                        <Column>community_name</Column>
                </ValidColumns>
                <Sentence>
                        <![CDATA[
					SELECT
						#COLUMNS#
					FROM
						public.towns t
					LEFT JOIN public.provinces p on
						t.id_province = p.id_province
					LEFT JOIN public.communities c on
						p.id_community = c.id_community
					#WHERE#
					#ORDER#
		         ]]>
                </Sentence>
        </Query>
</Queries>
        </JdbcEntitySetup>
